<!DOCTYPE html>
<html style="height: 100%">
<head>
  <meta charset="utf-8">
  <title>Sverigekarta Heatmap med folkmängds-data</title>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
</head>
<body style="margin: 0; height: 100%">
  <div id="main" style="height: 90%"></div>

  <script>
    const chart = echarts.init(document.getElementById('main'));
    let scbData;

    fetch('sweden.json')
      .then(res => res.json())
      .then(geoJson => {
        echarts.registerMap('sweden', geoJson);

        chart.setOption({
          title: {
            text: `Sverigekarta – Befolkning per län`,
            left: 'center'
          },
          tooltip: {
            trigger: 'item',
            formatter: '{b}<br/>Befolkning: {c}'
          },
          visualMap: {
            orient: 'horizontal',
            left: 'center',
            bottom: 10,
            min: 0,
            max: 2500000,
            text: ['Hög', 'Låg'],
            calculable: true,
            inRange: {
              color: ['#e0f3f8', '#abd9e9', '#74add1', '#4575b4', '#313695']
            }
          },
          series: [{
            name: 'Befolkning',
            type: 'map',
            map: 'sweden',
            roam: false,
            layoutCenter: ['50%', '50%'],
            layoutSize: '80%',
            aspectScale: 0.50,
            label: {
              show: false,
              fontSize: 9
            },
            emphasis: {
              scale: true,
              itemStyle: {
                shadowBlur: 10,
                shadowColor: 'rgba(0, 0, 0, 0.3)',
                areaColor: null
              },
              label: {
                show: true
              }
            },
            select: {
              disabled: true
            },
            data: []
          }]
        });
      });
  </script>
</body>
</html>
